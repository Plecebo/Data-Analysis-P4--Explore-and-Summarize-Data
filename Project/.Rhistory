library(ggplot2)
library(dplyr)
library(tidyr)
library(plyr)
library(ggplot2)
library(dplyr)
library(tidyr)
ec <- read.csv('2016Presidential_Election_Contributions.csv', row.names = NULL)
setwd('E:\GitHub\Data-Analysis-P4-Explore-and-summarize-data\Project')
setwd('E:/GitHub/Data-Analysis-P4-Explore-and-summarize-data/Project/')
ec <- read.csv('2016Presidential_Election_Contributions.csv', row.names = NULL)
colnames(ec) <- c(colnames(ec)[-1],"x")
ec$x <- NULL
names(ec)
unique(ec$cand_nm)
summary(ec$contb_receipt_amt)
female_candidates <- c('Clinton, Hillary Rodham', 'Fiorina, Carly')
democratic_candidates <- c('Clinton, Hillary Rodham','Sanders, Bernard', "O'Malley, Martin Joseph","Webb, James Henry Jr.", "Lessig, Lawrence")
ec$gender <- ifelse(ec$cand_nm %in% female_candidates, 'Female', 'Male')
ec$party <- ifelse(ec$cand_nm %in% democratic_candidates, 'Democrat', 'Republican')
ggplot(aes(x=contb_receipt_amt), data = ec) + geom_histogram(binwidth=100)
ggplot(aes(x=contb_receipt_amt), data = subset(ec, contb_receipt_amt > 0)) +
geom_histogram(binwidth=50) + xlim(0,quantile(ec$contb_receipt_amt, .9))
ggplot(aes(x=contb_receipt_amt), data = subset(ec, contb_receipt_amt < 0)) +
geom_histogram(binwidth=50) + xlim(-5000,0)
ggplot(aes(x=cand_nm, y=contb_receipt_amt), data=ec) + geom_bar(stat="summary", fun.y = sum)
ggplot(aes(x=cand_nm, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = sum) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=cand_nm, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = mean) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=cand_nm, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", count) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=cand_nm, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = count) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
count(ec$contb_receipt_amt, ec$cand_nm)
ggplot(aes(x=cand_nm, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = n) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=cand_nm, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = count(contb_receipt_amt)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=cand_nm, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = count(ec$contb_receipt_amt)) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
geom_bar(stat="summary", fun.y = count) +
ggplot(aes(x=cand_nm, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = count) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=cand_nm), data=ec) +
geom_histogram()+
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=cand_nm), data=ec) +
geom_histogram(binwidth=1)+
theme(axis.text.x = element_text(angle = 90, hjust = 1))
by()
by(ec, party)
by(ec$contb_receipt_amt, ec$party)
by(ec, ec$party)
by(ec$contb_receipt_amt, ec$party, sum)
ggplot(aes(x=party, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = sum) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=party, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = sum) +
scale_y_log10() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
scale_y_sqrt() +
ggplot(aes(x=party, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = sum) +
scale_y_sqrt() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=party, y=contb_receipt_amt/1000000), data=ec) +
geom_bar(stat="summary", fun.y = sum) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=party, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = mean) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
geom_line(aes(color=cand_nm))
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
geom_line(aes(color=cand_nm), stat="summary", fun.y= sum)
View(ec)
View(ec)
ec$contb_receipt_dt <- as.Date(ec$contb_receipt_dt, "%d-%b-%y")
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
geom_line(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
xlim(as.Date('2015-03-01', '%f')) +
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
xlim(as.Date('2015-03-01', '%f'), as.Date('2016-01-01', '%f')) +
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
scale_x_date()+
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
scale_x_date()+
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
scale_x_date(limits = c(as.Date("2015-3-1"), end))+
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
scale_x_date(limits = c(as.Date("2015-03-01", "%f"), max(contb_receipt_dt)))+
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
scale_x_date(limits = c(as.Date("2015-03-01", "%f"), max(contb_receipt_dt)))+
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
scale_x_date(limits = c(as.Date("2015-03-01", "%f"), max(ec$contb_receipt_dt)))+
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
xlim(as.Date("2015-03-01", "%f"), max(ec$contb_receipt_dt))+
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=subset(ec, contb_receipt_dt >as.Date("2015-03-01") ) +
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data=subset(ec, contb_receipt_dt >= as.Date("2015-03-01")) +
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_area(aes(color=party), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_area(aes(color=party))
ggplot(aes(x=contb_receipt_dt, y=cumsum(contb_receipt_amt)),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=party))
ggplot(aes(x=contb_receipt_dt, y=cumsum(contb_receipt_amt)),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=party), stat="summary", fun.y = cumsum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=party), stat="summary", fun.y = cumsum)
geom_line(aes(color=party))
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=party))
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
stat_ecdf()
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
stat_ecdf(color=cand_nm)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
stat_ecdf(aes(color=cand_nm))
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm), stat="ecdf", fun.y = cumsum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm), stat="ecdf", fun.y = cumsum)
df <- data.frame(x = c(rnorm(100, 0, 3), rnorm(100, 0, 10)),
g = gl(2, 100))
ggplot(df, aes(x, colour = g)) + stat_ecdf()
qplot(unique(mydata), ecdf(mydata)(unique(mydata))*length(mydata), geom='step')
qplot(unique(df), ecdf(df)(unique(df))*length(df), geom='step')
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm))
ggplot(aes(x=contb_receipt_dt, y=cumsum(contb_receipt_amt)),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm))
ggplot(aes(x=contb_receipt_dt, y=cumsum(contb_receipt_amt)),
data= ec) +
geom_line(aes(color=cand_nm))
ggplot(aes(x=contb_receipt_dt, y=cumsum(contb_receipt_amt)),
data= ec) +
geom_line()
ec.day_group <- ec %>% groupby(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt))
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt))
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt))
ggplot(aes(x=contb_receipt_dt, y=cumsum(daily_contributions)),
data= ec.day_group) +
geom_line()
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt))
ggplot(aes(x=contb_receipt_dt, y=cumsum(daily_contributions)),
data= ec.day_group) +
geom_line(aes(color=cand_nm))
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt))
ggplot(aes(x=contb_receipt_dt, y=cumsum(daily_contributions)/1000),
data= ec.day_group) +
geom_line(aes(color=cand_nm))
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt), n = n())
ggplot(aes(x=contb_receipt_dt, y=cumsum(daily_contributions)/1000),
data= ec.day_group) +
geom_line(aes(color=cand_nm))
View(ec.day_group)
View(ec.day_group)
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt), n = n())
ggplot(aes(x=contb_receipt_dt, y=cumsum(daily_contributions)/100000),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm))
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt), n = n())
ggplot(aes(x=contb_receipt_dt, y=daily_contributions/100000),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm))
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt), n = n())
ggplot(aes(x=contb_receipt_dt, y=daily_contributions/100000),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm), stat="summary", fun.y = sum)
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = cumsum(contb_receipt_amt), n = n())
ggplot(aes(x=contb_receipt_dt, y=daily_contributions/100000),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm))
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = cumsum(contb_receipt_amt), n = n())
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = cumsum(contb_receipt_amt), n = n())
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt), n = n())
ggplot(aes(x=contb_receipt_dt, y=daily_contributions),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm))
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt), n = n())
ggplot(aes(x=contb_receipt_dt, y=daily_contributions),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(y=cumsum(daily_contributions), color=cand_nm))
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt), n = n())
ggplot(aes(x=contb_receipt_dt, y=daily_contributions),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm))
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt), n = n())
ggplot(aes(x=contb_receipt_dt, y=daily_contributions),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm))+
scale_y_datetime(stat="summary", fun.y = cumsum)
scale_y_continuous()
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt), n = n())
ggplot(aes(x=contb_receipt_dt, y=daily_contributions),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm), stat="Summary", fun.y=sum)
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt)) %>% mutate(daily_contributions = cumsum(daily_contributions))
View(ec.day_group)
View(ec.day_group)
geom_line(aes(color=cand_nm))
ec.day_group <- ec %>% group_by(cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt)) %>% mutate(daily_contributions = cumsum(daily_contributions))
ggplot(aes(x=contb_receipt_dt, y=daily_contributions),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm))
ec.day_group <- ec %>% group_by(party, cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt)) %>% mutate(daily_contributions = cumsum(daily_contributions))
ggplot(aes(x=contb_receipt_dt, y=daily_contributions),
ggplot(aes(x=contb_receipt_dt, y=daily_contributions),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm))
ggplot(aes(x=contb_receipt_dt, y=daily_contributions),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm)) + facet_wrap(~party)
ggplot(aes(x=contb_receipt_dt, y=daily_contributions/100000),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm))
ggplot(aes(x=contb_receipt_dt, y=daily_contributions/100000),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm)) + facet_wrap(~party)
ec.day_group <- ec %>% group_by(party, cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt), n = n()) %>% mutate(daily_contributions = cumsum(daily_contributions), n = cumsum(n))
ggplot(aes(x=contb_receipt_dt, y=n),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm)) + facet_wrap(~party)
ggplot(aes(x=cand_nm), data=ec) +
geom_histogram(binwidth=1)+
theme(axis.text.x = element_text(angle = 90, hjust = 1))
