library(ggplot2)
library(dplyr)
library(tidyr)
library(plyr)
library(ggplot2)
library(dplyr)
library(tidyr)
ec <- read.csv('2016Presidential_Election_Contributions.csv', row.names = NULL)
setwd('E:\GitHub\Data-Analysis-P4-Explore-and-summarize-data\Project')
setwd('e:/GitHub/Data-Analysis-P4-Explore-and-summarize-data/Project/')
ec <- read.csv('2016Presidential_Election_Contributions.csv', row.names = NULL)
colnames(ec) <- c(colnames(ec)[-1],"x")
ec$x <- NULL
names(ec)
unique(ec$cand_nm)
summary(ec$contb_receipt_amt)
female_candidates <- c('Clinton, Hillary Rodham', 'Fiorina, Carly')
democratic_candidates <- c('Clinton, Hillary Rodham','Sanders, Bernard', "O'Malley, Martin Joseph","Webb, James Henry Jr.", "Lessig, Lawrence")
ec$gender <- ifelse(ec$cand_nm %in% female_candidates, 'Female', 'Male')
ec$party <- ifelse(ec$cand_nm %in% democratic_candidates, 'Democrat', 'Republican')
ggplot(aes(x=contb_receipt_amt), data = ec) + geom_histogram(binwidth=100)
ggplot(aes(x=contb_receipt_amt), data = subset(ec, contb_receipt_amt > 0)) +
geom_histogram(binwidth=50) + xlim(0,quantile(ec$contb_receipt_amt, .9))
ggplot(aes(x=contb_receipt_amt), data = subset(ec, contb_receipt_amt < 0)) +
geom_histogram(binwidth=50) + xlim(-5000,0)
ggplot(aes(x=cand_nm, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = sum)
ggplot(aes(x=cand_nm, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = sum) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=cand_nm, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = mean) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=cand_nm), data=ec) +
geom_histogram(binwidth=1)+
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=party, y=contb_receipt_amt/1000000), data=ec) +
geom_bar(stat="summary", fun.y = sum) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=party, y=contb_receipt_amt), data=ec) +
geom_bar(stat="summary", fun.y = mean) +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
geom_line(aes(color=cand_nm), stat="summary", fun.y= sum)
ec$contb_receipt_dt <- as.Date(ec$contb_receipt_dt, "%d-%b-%y")
g
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt), data=ec) +
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ggplot(aes(x=contb_receipt_dt, y=contb_receipt_amt),
data= subset(ec, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_area(aes(color=cand_nm), stat="summary", fun.y= sum)
ec.day_group <- ec %>% group_by(party, cand_nm, contb_receipt_dt) %>% summarize(daily_contributions = sum(contb_receipt_amt), n = n()) %>% mutate(daily_contributions = cumsum(daily_contributions), n = cumsum(n))
ggplot(aes(x=contb_receipt_dt, y=daily_contributions/100000),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm))
ggplot(aes(x=contb_receipt_dt, y=daily_contributions/100000),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm)) + facet_wrap(~party)
ggplot(aes(x=contb_receipt_dt, y=n),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-03-01"))) +
geom_line(aes(color=cand_nm)) + facet_wrap(~party)
ggplot(aes(x=contb_receipt_dt, y=n),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-08-01"))) +
geom_line(aes(color=cand_nm))
ggplot(aes(x=contb_receipt_dt, y=n),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-08-01"))) +
geom_line(aes(color=cand_nm)) +
geom_vline(aes(xintercept = as.Date("2015-08-06"), color='Red' ))
ggplot(aes(x=contb_receipt_dt, y=n),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-08-01"))) +
geom_line(aes(color=cand_nm)) +
geom_vline(xintercept = as.Date("2015-08-06"))
ggplot(aes(x=contb_receipt_dt, y=n),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-08-01"))) +
geom_line(aes(color=cand_nm)) +
geom_vline(xintercept = as.numeric(as.Date("2015-08-06")))
ggplot(aes(x=contb_receipt_dt, y=n),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-08-01"))) +
geom_line(aes(color=cand_nm)) +
geom_vline(xintercept = as.numeric(as.Date("2015-08-06")), colour = "red")
ggplot(aes(x=contb_receipt_dt, y=n),
data= subset(ec.day_group, contb_receipt_dt >= as.Date("2015-08-01"))) +
geom_line(aes(color=cand_nm)) +
geom_vline(xintercept = as.numeric(as.Date("2015-08-06")), colour = "red")+
geom_vline(xintercept = as.numeric(as.Date("2015-09-16")), colour = "red")+
geom_vline(xintercept = as.numeric(as.Date("2015-10-28")), colour = "red")
ec <- read.csv('2016Presidential_Election_Contributions.csv', row.names = NULL)
colnames(ec) <- c(colnames(ec)[-1],"x")
ec$x <- NULL
View(ec)
View(ec)
female_candidates <- c('Clinton, Hillary Rodham', 'Fiorina, Carly')
democratic_candidates <- c('Clinton, Hillary Rodham','Sanders, Bernard', "O'Malley, Martin Joseph","Webb, James Henry Jr.", "Lessig, Lawrence")
ec$gender <- ifelse(ec$cand_nm %in% female_candidates, 'Female', 'Male')
ec$party <- ifelse(ec$cand_nm %in% democratic_candidates, 'Democrat', 'Republican')
ec$contb_receipt_dt <- as.Date(ec$contb_receipt_dt, "%d-%b-%y")
summary(ec$contb_receipt_dt)
min(ec$contb_receipt_dt)
max(ec$contb_receipt_dt)
ggplot(aes(x=contb_receipt_dt, y=n),
data= subset(ec.day_group,
contb_receipt_dt >= as.Date("2015-07-15") &
contb_receipt_dt <= as.Date("2015-08-15") &
party = 'Republican'
)) +
geom_line(aes(color=cand_nm)) +
geom_vline(xintercept = as.numeric(as.Date("2015-08-06")), colour = "red")
ggplot(aes(x=contb_receipt_dt, y=n),
data= subset(ec.day_group,
contb_receipt_dt >= as.Date("2015-07-15") &
contb_receipt_dt <= as.Date("2015-08-15") &
party == 'Republican'
)) +
geom_line(aes(color=cand_nm)) +
geom_vline(xintercept = as.numeric(as.Date("2015-08-06")), colour = "red")
